<div class="videoMain">
  <div class="wraperVideo">
    <div class="video-container">
      <video
        id="videoPlayer"
        src="{{ section.settings.video.sources[1].url }}"
        muted
        controls></video>
      <img
        id="coverImg"
        src="{{ section.settings.coverImg | image_url: width: 1920 }}"
        alt="Cover Image"
        loading="lazy" />
      <button id="videoButton"><img src="https://cdn.shopify.com/s/files/1/0832/5244/5464/files/Button_Play.svg?v=1696357293" alt="PlayButton"></button>
    </div>
  </div>
</div>

<style>
  .videoMain {
    display: grid;
    justify-items: center;
  }
  .wraperVideo {
    width: 90vw;
  }
  .video-container {
    position: relative;
    width: 100%;
    padding-top: 56.25%;
  }
  .video-container button {
    position: absolute;
    top: 50%;
    left: 50%;
  }
  video,
  #coverImg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 12px;
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const coverImg = document.getElementById("coverImg");
    const videoPlayer = document.getElementById("videoPlayer");
    const videoButton = document.getElementById("videoButton")
    coverImg.addEventListener("click", function() {
      coverImg.style.display = "none";
      videoButton.style.display = "none"
      videoPlayer.play();
    });
    videoButton.addEventListener("click", function() {
      coverImg.style.display = "none";
      videoButton.style.display = "none"
      videoPlayer.play();
    });
  });
</script>

{% schema %}
  {
    "name": "Video",
    "class": "video-section",
    "settings": [
      {
        "type": "video",
        "id": "video",
        "label": "Select your video"
      }, {
        "type": "image_picker",
        "id": "coverImg",
        "label": "Select your cover image"
      }
    ],
    "presets": [
      {
        "name": "Video"
      }
    ]
  }
{% endschema %}